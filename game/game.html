    <!DOCTYPE html>
<html>
    
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>GETTING STARTED WITH BRACKETS</title>
        <meta name="description" content="An interactive getting started guide for Brackets.">
        
      
        <link rel="stylesheet" href="main.css">        
        <link rel="shortcut icon" href="../favicon.PNG" type="image/x-icon">

    </head>
    <body style="background-image:url(pictures/b.PNG);">
       <iframe src="musics/swordland.mp3" allow="autoplay" id="audio" style="display:none"></iframe>
	
        
      
          <script type="text/javascript" >
                           
            // Create the canvas
            var canvas = document.createElement("canvas"); // Creation of the canvas
            var ctx = canvas.getContext("2d"); // Use the 2d technology
            canvas.width 	= 750; // Define width of the map
            canvas.height 	= 750; // Define height of the map
            document.body.appendChild(canvas); // Use the canvas as a child attribute of body

			
            // Background image
            var ibgReady = false;
            var ibgImage = new Image();
            ibgImage.onload = function () {
                ibgReady = true;
            };
            ibgImage.src = "pictures/introduction.PNG";

			
            // Background image
            var bgReady = false;
            var bgImage = new Image();
            bgImage.onload = function () {
                bgReady = true;
            };
            bgImage.src = "pictures/background.PNG"; // Background of levels

            // Hero image
            var heroReady = false;
            var heroImage = new Image();
            heroImage.onload = function () {
                heroReady = true;
            };
            heroImage.src = "pictures/a_caster.PNG"; // Picture of the chosen hero


            // Monster 1 image
            var monsterReady = false;
            var monsterImage = new Image();
            monsterImage.onload = function () 
			{
                monsterReady = true;
            };
            monsterImage.src = "pictures/a_slim.PNG"; // Picture of a monster
             
            // Monster 2 image
            var monster2Ready = false;
            var monster2Image = new Image();
            monster2Image.onload = function () 
			{
                monster2Ready = true;
            };
            monster2Image.src = "pictures/a_slim.PNG"; // Picture of a monster
              
			// Monster 3 image
            var monster3Ready = false;
            var monster3Image = new Image();
            monster3Image.onload = function () 
			{
                monster3Ready = true;
            };
            monster3Image.src = "pictures/a_bat.PNG"; // Picture of a monster
              


            // Game objects
            var hero 			= { speed: 256 }; // movement in pixels per second
            
            var monster			= { alive:true };
			var monster2		= { alive:true };
			var monster3		= { alive:true };
			
            var monstersCaught 	= 0;

            // Handle keyboard controls
            var keysDown 		= {};

            addEventListener("keydown", function (e)
			{
                keysDown[e.keyCode] = true;
            }, false);

            addEventListener("keyup", function (e)
			{
                delete keysDown[e.keyCode];
            }, false);

            // Reset the game when the player catches a monster
            var reset = function () 
			{
                hero.x = canvas.width / 2.25;
                hero.y = canvas.height - (canvas.height/5) ;

                // Throw the monster somewhere on the screen randomly
                monster.x = 32 + (Math.random() * (canvas.width  - 128));
                monster.y = 32 + (Math.random() * (canvas.height - 128));
				
				monster2.x = 32 + (Math.random() * (canvas.width  - 128));
                monster2.y = 32 + (Math.random() * (canvas.height - 128));
				
				monster3.x = 32 + (Math.random() * (canvas.width  - 128));
                monster3.y = 32 + (Math.random() * (canvas.height - 128));
            };
			

            // Update game objects
            var update = function (modifier)
			{
                if (38 in keysDown) 
				{ // Player holding up
					if(hero.y >= 50) // Limitation because of the walls
						hero.y -= hero.speed * modifier;
                }
                if (40 in keysDown) 
				{ // Player holding down
                   	if(hero.y <= canvas.height-125) // Limitation because of the wall
						hero.y += hero.speed * modifier;
                }
                if (37 in keysDown) 
				{ // Player holding left
                   if(hero.x >= 50) // Limitation because of the wall
						hero.x -= hero.speed * modifier;
                }
                if (39 in keysDown) 
				{ // Player holding right
                    if(hero.x <= canvas.width-125) // Limitation because of the wall
						hero.x += hero.speed * modifier;
                }

				if(monster.alive == false && monster2.alive == false && monster3.alive == false)
				{
					window.location.replace("level_1_win.html");
				}
				
                // Are they touching?
                if(hero.x <= (monster.x + 32) && (monster.x <= (hero.x + 32) && hero.y <= (monster.y + 32) && monster.y <= (hero.y + 32)))							
				{
                    monster.alive = false;
					monster.x = 1000;
                }
				
				 // Are they touching?
                if( hero.x <= (monster.x + 32) &&(monster2.x <= (hero.x + 32) && hero.y <= (monster2.y + 32) && monster2.y <= (hero.y + 32)))							
				{
                    monster2.alive = false;
					monster2.x = 1000;
                }
				
				 // Are they touching?
                if ( hero.x <= (monster.x + 32) && ( monster3.x <= (hero.x + 32) && hero.y <= (monster3.y + 32) && monster3.y <= (hero.y + 32)))							
				{
                    monster3.alive = false;
					monster3.x = 1000;
                }
            };


			
            // Draw everything
            var render = function () 
			{
                if (bgReady) 
				{
                    ctx.drawImage(bgImage, 0, 0);
                }

                if (heroReady) 
				{
                    ctx.drawImage(heroImage, hero.x, hero.y); // Draw the hero
                }

                if (monsterReady)
				{
                    ctx.drawImage(monsterImage, monster.x, monster.y); // Draw the monster
                }
				
				if (monster2Ready)
				{
                    ctx.drawImage(monster2Image, monster2.x, monster2.y); // Draw the monster 2
                }
				
				if (monster3Ready)
				{
                    ctx.drawImage(monster3Image, monster3.x, monster3.y); // Draw the monster 2
                }

                // Score
                ctx.fillStyle = "rgb(250, 250, 250)";
                ctx.font = "24px OCR A Std, monospace";
                ctx.textAlign = "left";
                ctx.textBaseline = "top";
                ctx.fillText("Sword of the Jaegers", 35, 20);
				
				ctx.fillStyle = "rgb(250, 250, 250)";
                ctx.font = "24px OCR A Std, monospace";
                ctx.textAlign = "right";
                ctx.textBaseline = "top";
                ctx.fillText("Life (\u2665 \u2665 \u2665)", 710, 20); // Display current lifes
            };


            // The main game loop
            var main = function () 
			{
                var now 	= Date.now(); // Current Date
                var delta 	= now - then; // Difference between the beginning and the end of the game

                update(delta / 1000); // Update
                render(); // Display

                then = now; 

                // Request to do this again ASAP
                requestAnimationFrame(main);
				


            };
			
			// ====================================================== //
			// Draw everything
            var iRender = function () 
			{
                if (ibgReady) {
                    ctx.drawImage(ibgImage, 0, 0);
                }
            };
			
			 // Update game objects
            var iUpdate = function () 
			{
				reset();
				main();

            };
			            // The main game loop
            var iMain = function () 
			{
                var inow 	= Date.now(); // Current Date
                var idelta 	= inow - ithen; // Difference between the beginning and the end of the game

                
                iRender(); // Display
				iUpdate(); // Update

                ithen = now; 

                // Request to do this again ASAP
                requestAnimationFrame(iMain);

            };		
			// ====================================================== //
						
            // Cross-browser support for requestAnimationFrame
            var w = window;
            requestAnimationFrame = w.requestAnimationFrame || w.webkitRequestAnimationFrame || w.msRequestAnimationFrame || w.mozRequestAnimationFrame;

            // Let's play this game!
            var then = Date.now();
            var ithen = Date.now();
			iMain();
			
        </script>        
    </body>
</html>            
